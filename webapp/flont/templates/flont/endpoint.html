{% extends 'flont/base.html' %}
{% load static %}

{% block head %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'flont/css/endpoint.css' %}" />
{% endblock head %}

{% block main_content %}
<h1>SPARQL</h1>
<p>
    Le formulaire ci-dessous vous permet d'écrire et d'exécuter des requêtes SPARQL pour FLOnt.
</p>

<form action="" method="post" class="my-2">
    {% csrf_token %}
    <div class="textarea_wrapper">
        <textarea name="query" rows="15" >{{ sparql_query }}</textarea>
    </div>
    <br>
    <input type="submit" name="" value="Execute" />
</form>
{% if results %}
<h2>Résultats</h2>
<table class="table table-striped table-hover">
    {% if header %}
    <tr>
        {% for column in header %}
        <th>{{ column }}</th>
        {% endfor %}
    </tr>
    {% endif %}
    {% for row in results %}
    <tr>
        {% for column in row %}
        <td>{{ column }}</td>
        {% endfor %}
    </tr>
    {% endfor %}
</table>
{% endif %}
{% endblock main_content %}
